<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hjemmesiden med arrangementer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="HomepageStyle.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!--Hentet fra https://fonts.google.com/icons?selected=Material+Icons-->

</head>
<body>
<div class="smartphone bakgrunnsfarge">
    <div class="content">
        <!-- filterknapp -->
        <div>
            <select id="filterMeny" class="elementBakgrunnsfarge">
                <option selected disabled>Filterer</option>
                <option>Kristiansand</option>
                <option>Grimstad</option>
                <option>Fotball</option>
                <option>Frisbeegolf</option>
                <option>Vors</option>
                <option>Studybuddy</option>
            </select>

            <p id="skrivUt"></p>
        </div>

        <div class="events elementBakgrunnsfarge">
            <table class="eventsTable" style="width: 100%">
                <tr>
                    <td style="width: 25%"> dato </td>
                    <td class="eventbarriere" style="width: 50%"> en lang tittel med masse tekst </td>

                    <td style="width: 25%">
                        <table>
                            <tr><td> campus </td></tr>
                            <tr><td> kategori </td></tr>
                            <tr><td> deltagere </td></tr>
                        </table>
                    </td>
                </tr>
            </table>
        </div>


        <!-- Navbar -->
        <nav class="nav">
            <a href="hovedside.html" class="NavKnapp active">
                <span class="material-icons">home</span> <!--Bilde ikone på navbaren-->
                <span class="IconName">Homepage</span> <!--Navnet på navbar knappene-->

            </a>
            <a href="addEvent.html" class="NavKnapp">
                <span class="material-icons">add_box</span> <!--Bilde ikone på navbaren-->
                <span class="IconName">Add Event</span> <!--Navnet på navbar knappene-->

            </a>
            <a href="#" class="NavKnapp">
                <span class="material-icons">favorite</span> <!--Bilde ikone på navbaren-->
                <span class="IconName">Favorites</span> <!--Navnet på navbar knappene-->

            </a>
            <a href="profile.html" class="NavKnapp">
                <span class="material-icons">account_box</span> <!--Bilde ikone på navbaren-->
                <span class="IconName">Profile</span> <!--Navnet på navbar knappene-->
            </a>
        </nav>
    </div> <!--Div-elementet for Mobilinnholdet lukkes-->
</div> <!--Hentet fra w3schools, link:https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_device_smartphone -->





<script>

var events = []

var urler = ['https://bacit.info/hwr/20211102062705-e7160661b36297c442204af72e640318.json',
    'https://bacit.info/hwr/20211102075440-f43946d975a0cde3f7cd84f8f59820dd.json',
    'https://bacit.info/hwr/20211102075752-700e1829bae5b8e969f9e0b8a48f4d1b.json',
    'https://bacit.info/hwr/20211102080220-e9f67ba52459de2ebbf9e489f42e1751.json'
]

Promise.all( //w3schools.com/js/js_promise.asp,   IKKE ASYNC
    urler.map( //mapper alle linkene i 'urler' for å fetche de (nedenfor) https://www.w3schools.com/jsref/jsref_map.asp
        (url) =>
            fetch(url)
                .then((res) => res.json())
                .then((res) => events.push(res)) //dytter inn dataen i events arrayen (som du kan se øverst i console.loggen)
    )
)
    .then(() => {
        console.log(events) //logger objektene/personene fra brukerData i konsollen
        events.forEach(makeEventCards())
    })

    .catch((err) => {
        alert('404 error') // Alert("error") viser hva som kommer opp dersom det er en error, inne i alert("") kan det stå hva som helst, men det må være forstålig, derfor valgte vi error
    })


function makeEventCards(){

    /*let eventCard = ''
    <div className="events elementBakgrunnsfarge">
        <table className="eventsTable" style="width: 100%">
            <tr>
                <td style="width: 25%"> dato</td>
                <td className="eventbarriere" style="width: 50%"> en lang tittel med masse tekst</td>

                <td style="width: 25%">
                    <table>
                        <tr>
                            <td> campus</td>
                        </tr>
                        <tr>
                            <td> kategori</td>
                        </tr>
                        <tr>
                            <td> item.nop + </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>
    document.getElementById(events).innerHTML += eventCard*/
}



/*urler.forEach(renderJSON);
    //Skriver ut data på canvaser for en JSON fil.
    async function renderJSON(item) {
        //hente json fra serveren
        await fetch('https://bacit.info/hwr/' + item + '.json', {cache: 'no-cache'})
            .then(response => response.json())
            .then(data => {
                events.push(data)
        }
    }*/
</script>
</body>
</html>